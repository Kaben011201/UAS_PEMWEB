<?php
session_start();

include '../connection.php';

$sql = "SELECT * FROM jemaat";
$result = $connect->query($sql);

if ($result->num_rows > 0) {
    $data = array();
    while ($get_row = $result->fetch_assoc()) {
        $data[] = $get_row;
    }
?>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jemaat Data</title>
</head>

<body>

    <h2>Jemaat Data</h2>

    <?php if (!empty($data)){ ?>
        <table border="1">
            <thead>
                <tr>
                    <th>No</th>
                    <th>Nama</th>
                    <th>Tanggal Lahir</th>
                    <th>Usia</th>
                    <th>Jenis Kelamin</th>
                    <th>No HP</th>
                    <th>Alamat</th>
                    <th>Aksi</th>
                </tr>
            </thead>
            <tbody>
                <?php foreach ($data as $row){ ?>
                    <tr>
                        <td><?= $row['id']; ?></td>
                        <td><?= $row['nama']; ?></td>
                        <td><?= $row['tgllahir']; ?></td>
                        <td><?= $row['usia']; ?></td>
                        <td><?= $row['jenkel']; ?></td>
                        <td><?= $row['nohp']; ?></td>
                        <td><?= $row['alamat']; ?></td>
                        <td>
                            <button>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M18.0104 3.16152L18.0228 3.17399L18.0372 3.18839C18.3476 3.49866 18.6218 3.77286 18.8131
                                    4.02362C19.0205 4.29543 19.1861 4.60896 19.1861 5C19.1861 5.39104 19.0205 5.70457 18.8131 5.97639C18.6218
                                    6.22715 18.3475 6.50136 18.0372 6.81164L18.0104 6.83848L7.8163 17.0326C7.8045 17.0444 7.79275 17.0561 7.78103
                                    17.0679C7.62186 17.2275 7.46885 17.381 7.2774 17.4894L6.98177 16.9672L7.27739 17.4894C7.08594 17.5978 6.87564
                                    17.65 6.65687 17.7044C6.64076 17.7084 6.62461 17.7124 6.60842 17.7164L2.62097 18.7133L2.47544 18.1312L2.62097
                                    18.7133C2.61134 18.7157 2.60162 18.7182 2.59182 18.7206C2.43774 18.7592 2.26346 18.8029 2.11519 18.8174C1.95006 
                                    18.8336 1.65083 18.8321 1.40955 18.5908L1.83381 18.1665L1.40954 18.5908C1.16826 18.3495 1.16677 18.0503 1.18293
                                    17.8851C1.19743 17.7369 1.2411 17.5626 1.27971 17.4085C1.28217 17.3987 1.28461 17.389 1.28702 17.3794L2.28388
                                    13.3919C2.28793 13.3757 2.29195 13.3596 2.29595 13.3435C2.35031 13.1247 2.40257 12.9144 2.51097 12.7229C2.61937 
                                    12.5315 2.77281 12.3785 2.93244 12.2193C2.94419 12.2076 2.95597 12.1958 2.96778 12.184L13.1618 1.98995L13.1887 
                                    1.96311C13.499 1.65278 13.7732 1.37853 14.0239 1.1872C14.2958 0.979813 14.6093 0.814214 15.0003 0.814214C15.3914 
                                    0.814214 15.7049 0.979813 15.9767 1.1872C16.2275 1.37853 16.5017 1.6528 16.812 1.96314L16.8388 1.98995L18.0104 
                                    3.16152ZM18.0104 3.16152L17.5862 3.58569L18.0104 3.16152Z" stroke="#624DE3" stroke-width="1.2"/>
                                </svg>
                            </button>
                            <button>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 17 17" fill="none">
                                    <path d="M6.72949 10.271L6.72949 8.146" stroke="#A30D11" stroke-linecap="round"/>
                                    <path d="M10.2705 10.271L10.2705 8.146" stroke="#A30D11" stroke-linecap="round"/>
                                    <path d="M2.125 4.604H14.875V4.604C14.4297 4.604 14.2071 4.604 14.0217 4.63931C13.2154 4.79286 12.5847 
                                    5.42352 12.4311 6.22988C12.3958 6.41528 12.3958 6.63791 12.3958 7.08317V9.9165C12.3958 11.701 12.3958 
                                    12.5932 11.8667 13.1675C11.8297 13.2077 11.7911 13.2462 11.751 13.2832C11.1767 13.8123 10.2845 13.8123 
                                    8.5 13.8123V13.8123C6.71551 13.8123 5.82327 13.8123 5.24897 13.2832C5.20885 13.2462 5.17026 13.2077 
                                    5.1333 13.1675C4.60417 12.5932 4.60417 11.701 4.60417 9.9165V7.08317C4.60417 6.63791 4.60417 6.41528 
                                    4.56886 6.22988C4.41532 5.42352 3.78465 4.79286 2.97829 4.63931C2.79289 4.604 2.57026 4.604 2.125 4.604V4.604Z" stroke="#A30D11" stroke-linecap="round"/>
                                    <path d="M6.72884 2.4795C6.72884 2.4795 7.08301 1.771 8.49967 1.771C9.91634 1.771 10.2705 2.47933 10.2705 2.47933" stroke="#A30D11" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </td>
                    </tr>
                <?php }; ?>
            </tbody>
        </table>
    <?php } else{?>
        <p>No data found.</p>
    <?php }; ?>

</body>

</html>

<?php
} else {
    echo json_encode(array("success" => false));
}
?>
